{% extends 'humorge/layout.html' %}

{% block main %}
<div class="container">
  <table class="highlight">
    <thead>
      <tr>
        <th>제목</th>
        <th>글쓴이</th>
        <th>날짜</th>
      </tr>
    </thead>
    <tbody>
      {% for data in datas %}
      <tr>
        <td><a href="{% url 'humorge:humorpostdetail' pk=data.pk %}">{{ data.title }}</a></td>
        {% if data.nickname %}
          <td>{{ data.nickname }}</td>
        {% else %}
          <td>{{ data.author }}</td>
        {% endif %}
        <td>{{ data.date }}</td>
      </tr>
      {% empty %}
        <tr>
          <td>게시글이 없습니다.</td>
          <td></td>
          <td></td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% if user.is_authenticated %}
  <div class="fixed-action-btn">
    <a href="{% url 'humorge:humor_post' %}" class="btn-floating btn-large red">
      <i class="large material-icons">mode_edit</i>
    </a>
  </div>
{% endif %}
<div class="container" style="padding-top:30px">
  <ul class="pagination" style="text-align:center">
    {% if datas.has_previous %}
      <a href="?page=1">first</a>
      <li class="waves-effect"><a href="?page={{ datas.previous_page_number }}"><i class="material-icons">chevron_left</i></a></li>
    {% endif %}
    <li>
      page {{ datas.number }} of {{ datas.paginator.num_pages }}.
    </li>
    {% if datas.has_next %}
      <li class="waves-effect"><a href="?page={{ datas.next_page_number }}"><i class="material-icons">chevron_right</i></a></li>
      <a href="?page={{ datas.paginator.num_pages}}">last</a>
    {% endif %}
  </ul>
</div>
{% endblock %}
